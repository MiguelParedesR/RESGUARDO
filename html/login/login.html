<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Acceso por PIN | Resguardo</title>
  <link rel="icon" href="/assets/icon-192.svg" type="image/svg+xml" />

  <!-- MDL (solo para snackbar) -->
  <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css" />
  <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>

  <!-- Fuentes e iconos -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600&family=Inter:wght@500;600&display=swap"
  />
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons&display=swap" />

  <!-- Estilos -->
  <link rel="stylesheet" href="../../css/login/login.css" />
  <link rel="manifest" href="/manifest.json" />

  <!-- Supabase (primero) + Config (luego) -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script defer src="../../config.js"></script>

  <!-- Logica del login -->
  <script defer src="../../js/login/login.js"></script>
  <script defer src="../../js/pwa.js"></script>
</head>

<body class="pin-body">
  <main class="pin-page">
    <div class="pin-shell">
      <section class="pin-card" aria-label="Ingreso por PIN">
        <div class="pin-card__glow"></div>
        <h1 class="pin-title">Ingresa tu PIN</h1>
        <p class="pin-subtitle">(4 digitos) o (5 digitos) de acuerdo a tu ROL.</p>

        <div class="pin-input-area">
          <div class="pin-dots" id="pin-dots" aria-hidden="true">
            <span class="pin-dot"></span>
            <span class="pin-dot"></span>
            <span class="pin-dot"></span>
            <span class="pin-dot"></span>
            <span class="pin-dot"></span>
          </div>
          <input
            id="pin-input"
            type="password"
            inputmode="numeric"
            autocomplete="one-time-code"
            maxlength="5"
            aria-label="Campo para ingresar PIN numerico"
            class="pin-native-input"
          />
        </div>

        <a class="pin-link" href="./registro-custodia.html">Crear PIN</a>

        <div class="pin-keypad" role="grid" aria-label="Teclado numerico">
          <button type="button" class="pin-key" data-digit="1">1</button>
          <button type="button" class="pin-key" data-digit="2">2</button>
          <button type="button" class="pin-key" data-digit="3">3</button>
          <button type="button" class="pin-key" data-digit="4">4</button>
          <button type="button" class="pin-key" data-digit="5">5</button>
          <button type="button" class="pin-key" data-digit="6">6</button>
          <button type="button" class="pin-key" data-digit="7">7</button>
          <button type="button" class="pin-key" data-digit="8">8</button>
          <button type="button" class="pin-key" data-digit="9">9</button>
          <button type="button" class="pin-key pin-key--ghost" aria-disabled="true" tabindex="-1"> </button>
          <button type="button" class="pin-key" data-digit="0">0</button>
          <button type="button" class="pin-key pin-key--delete" data-delete aria-label="Borrar digito">
            <span aria-hidden="true">⌫</span>
          </button>
        </div>
      </section>
    </div>
  </main>

  <div id="app-snackbar" class="mdl-js-snackbar mdl-snackbar" aria-live="assertive" aria-atomic="true"
    aria-relevant="text">
    <div class="mdl-snackbar__text"></div>
    <button class="mdl-snackbar__action" type="button"></button>
  </div>
</body>
</html>
